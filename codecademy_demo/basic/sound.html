<!DOCTYPE html>
<html>

<head>
	<script src="https://cdn.jsdelivr.net/npm/phaser@3.15.1/dist/phaser-arcade-physics.min.js"></script>
</head>

<body>
	<script>
		const gameState = {}

		function preload() {
			// 載入並註冊音源名稱
			this.load.audio('incredible', 'https://s3.amazonaws.com/codecademy-content/courses/learn-phaser/incredible.mp3');
			this.load.audio('awesome', 'https://s3.amazonaws.com/codecademy-content/courses/learn-phaser/reallyawesome.mp3');
		}

		function create() {
			// 把音源存到state物件中
			gameState.incredible = this.sound.add('incredible');

			gameState.awesome = this.sound.add('awesome')

			// Display "Incredible" and "Really, really awesome" buttons，建構文字方塊
			gameState.incredibleBox = this.add.rectangle(200, 150, 300, 200, 0xdadaaa)
			gameState.awesomeBox = this.add.rectangle(200, 400, 300, 200, 0xaadada)
			gameState.incredibleText = this.add.text(150, 135, "Incredible", { fill: "#222222", font: "20px Times New Roman" })
			gameState.awesomeText = this.add.text(110, 385, "Really, really awesome", { fill: "#222222", font: "20px Times New Roman" })
			gameState.incredibleBox.setInteractive();
			gameState.awesomeBox.setInteractive();

			// 註冊滑鼠點擊事件，並播放state中的音源
			gameState.incredibleBox.on('pointerup', function () {
				gameState.incredible.play();
			})

			gameState.awesomeBox.on('pointerup', function () {
				gameState.awesome.play();
			})
		}

		const config = {
			type: Phaser.AUTO,
			width: 400,
			height: 600,
			backgroundColor: "#333333",
			scene: {
				preload,
				create
			}
		}

		const game = new Phaser.Game(config)
	</script>
</body>

</html>